<h4>Formularios <small>aproximaci√≥n por template</small></h4>
<hr />
<form (ngSubmit)="guardar(forma)" #forma="ngForm" class="was-validated">
  
  
  <div>
    <mat-form-field>
      <input class="form-control is-invalid"
        matInput
        placeholder="Nombre"
        name="usuar"
        minlength="3"
        [(ngModel)]="usuario.nombre"
        required
        #nombre="ngModel"
      />
    </mat-form-field>
        <div *ngIf="nombre.errors?.required" class="invalid-feedback">
          Este campo es requerido
        </div>
    
        <div *ngIf="nombre.errors?.minlength" class="invalid-feedback">
          Este campo requiere por lo menos
          {{ nombre.errors.minlength.requiredLength }} caracteres
        </div>



    <mat-form-field>
      <input
        class="form-control is-invalid"
        matInput
        placeholder="Apellido"
        [(ngModel)]="usuario.apellido"
        minlenght="5"
        name="apellido"
        required
        #apellido="ngModel"
      />
    </mat-form-field>


    <div *ngIf="apellido.errors?.required" class="invalid-feedback">
      Este campo es requerido
    </div>


    <div *ngIf="apellido.errors?.minlength" class="invalid-feedback">
      Este campo requiere por lo menos
      {{ nombre.errors.minlength.requiredLength }} caracteres
    </div>



    <mat-form-field>
      <input
        class="form-control is-invalid"
        matInput
        placeholder="Correo"
        [(ngModel)]="usuario.mail"
        name="mail"
        required
        #mail="ngModel"
        pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
      />
      <!-- <mat-error *ngIf="email.invalid">{{getErrorMessage()}}</mat-error> -->
    </mat-form-field>
    
    
    <div *ngIf="mail.errors?.required" class="invalid-feedback">Este campo es requerido</div>
    
    
    <div *ngIf="mail.errors?.pattern" class="invalid-feedback">
      Este campo no cumple con el formato correcto
    </div>
    
    <mat-form-field>
      <mat-select placeholder="Pais" [(ngModel)]="usuario.pais" name="pais">
        <mat-option *ngFor="let pais of paises" [value]="pais.codigo">
          {{pais.nombre}}
        </mat-option>
      </mat-select>
    </mat-form-field>


    <mat-radio-group class="example-radio-group"  [(ngModel)]="usuario.sexo" name="sexo">
        <mat-radio-button class="example-radio-button" *ngFor="let sexo of sexos" [value]="sexo.codigo">
          {{sexo.nombre}}
        </mat-radio-button>
    </mat-radio-group>

    <section class="example-section">
      <mat-checkbox class="example-margin" [(ngModel)]="usuario.acepta" name="acepta" required><small>Acepta las condiciones</small></mat-checkbox>
    </section>

    <div>
      <button
       mat-raised-button 
       type="submit"
       [disabled]="!forma.valid"
       >Guardar</button>
    </div>


  </div>
</form>
<br><br>

<pre>
  {{ usuario | json }}
</pre>
